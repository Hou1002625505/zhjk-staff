webpackJsonp([60],{B2n2:function(t,i){},h9er:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});s("4kSj");var a=s("/AfO"),e=(a.a,{data:function(){return{dates:this.config.formatDate(this.config.currentTime()).split("-"),year:this.config.formatDate(this.config.currentTime()).split("-")[0],month:this.config.formatDate(this.config.currentTime()).split("-")[1],bianyear:this.$route.query.bianyear,bianmonth:this.$route.query.bianmonth,dqyear:this.config.formatDate(this.config.currentTime()).split("-")[0],dqmonth:this.config.formatDate(this.config.currentTime()).split("-")[1],todayyear:this.config.formatDate(this.config.currentTime()).split("-")[0],todaymonth:this.config.formatDate(this.config.currentTime()).split("-")[1],mubiaolist:[],wanchenglist:[],bianji1:!1,nodata:!1,conflag:!0,tianjiaflag:!1,pickerValue:this.config.formatDate(this.config.currentTime()).split("-")[0],pickerdata:[["2008年","2009年","2010年","2011年","2012年","2013年","2014年","2015年","2016年","2017年","2018年","2019年","2020年","2021年"],["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]],anchor:[{index:11}]}},created:function(){console.log(this.config.currentTime()),console.log(this.bianyear),this.bianyear&&this.bianmonth&&(this.year=this.bianyear,this.month=this.bianmonth),this.getmubiao()},methods:{getmubiao:function(){var t=this;this.instance.$post("/rest/wx/employee/getEmpAimInfo",{status:"2",startDate:this.year+""+this.month+"01",endDate:this.year+""+this.month+this.dateData(this.year,this.month)},function(i){console.log(i),i.rows.length>0?((t.year==t.todayyear||t.year>t.todayyear)&&(t.month==t.todaymonth||t.month>t.todaymonth)&&(t.bianji1=!0),t.nodata=!1,t.tianjiaflag=!1,t.conflag=!0):(t.nodata=!0,t.bianji1=!1,(t.year==t.todayyear||t.year>t.todayyear)&&(t.month==t.todaymonth||t.month>t.todaymonth)&&(t.tianjiaflag=!0),t.conflag=!1),t.mubiaolist=[],t.wanchenglist=[],t.mubiaolist.push(i.rows[0]),console.log(t.mubiaolist),t.getwancheng()})},getwancheng:function(){var t=this;this.instance.$post("/rest/wx/employee/getEmpAimInfoByData",{status:"2",startDate:this.year+""+this.month+"01",endDate:this.year+""+this.month+this.dateData(this.year,this.month)},function(i){t.wanchenglist.push(i.rows[0]),console.log(i)})},monthreduce:function(){this.month>1?(this.month--,this.month<10&&(this.month="0"+this.month)):(this.year--,this.month="12"),this.getmubiao(),this.year<this.todayyear?this.bianji1=!1:(this.year==this.todayyear||this.year>this.todayyear)&&this.month<this.todaymonth&&(this.bianji1=!1)},monthadd:function(){this.month<12?(this.month++,this.month<10&&(this.month="0"+this.month)):(this.year++,this.month="01"),this.getmubiao()},dateData:function(t,i){return/^(1|3|5|7|8|10|12)$/.test(parseInt(i))?31:/^(4|6|9|11)$/.test(parseInt(i))?30:/^2$/.test(parseInt(i))?t%4==0&&t%100!=0||t%400==0?29:28:void 0},bianji:function(){this.$router.push({name:"targetbianji",query:{year:this.year,month:this.month}})},ptianjia:function(){this.$router.push({name:"tianjiatarget",query:{year:this.year,month:this.month}})},selectyear:function(){this.$refs.picker.show()},handleConfirm:function(t){console.log(t);var i=t[0].value.slice(0,4);if(3==t[1].value.length)var s=t[1].value.slice(0,2);else s=t[1].value.slice(0,1);console.log(t[1].value.length),1==s.length?this.month=0+s:this.month=s,this.year=i,this.year<this.todayyear?this.bianji1=!1:(this.year==this.todayyear||this.year>this.todayyear)&&this.month<this.todaymonth&&(this.bianji1=!1),this.getmubiao()}},components:{XCircle:a.a}}),n={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"container"},[s("div",{staticClass:"personal"},[s("div",{staticClass:"month"},[s("div",{attrs:{id:"time"}},[s("span",{attrs:{id:"left"},on:{click:function(i){return t.monthreduce()}}},[t._v("<")]),s("span",{attrs:{id:"times"},on:{click:function(i){return t.selectyear()}}},[t._v(t._s(t.year)+"年"+t._s(t.month)+"月")]),s("span",{attrs:{id:"right"},on:{click:function(i){return t.monthadd()}}},[t._v(">")])])]),t._v(" "),s("div",{staticClass:"project_title"},[s("div",{staticClass:"project_titel"},[t._v("项目")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"project_titel"},[s("a",{directives:[{name:"show",rawName:"v-show",value:t.bianji1,expression:"bianji1"}],staticClass:"compile",attrs:{href:"javascript:;"},on:{click:function(i){return t.bianji()}}},[t._v("编辑")])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.nodata,expression:"nodata"}],staticClass:"plan"},[t._v("暂无计划")]),t._v(" "),t.conflag?s("div",{staticClass:"dataList"},[s("div",{staticClass:"project_nr"},[s("div",{staticClass:"project_nrs"},[t._v("销售业绩")]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"xs","data-xs":""}},[t._v(t._s(this.mubiaolist[0].salePerformance)+"元")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"xs1","data-xss":""}},[t._v(t._s(this.wanchenglist[0].salePerformance)+"元")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("div",{staticStyle:{width:"50px",height:"50px",position:"relative",top:"0.25rem",left:"30%"}},[s("x-circle",{attrs:{percent:this.wanchenglist[0].salePerformance/this.mubiaolist[0].salePerformance>1?100:this.wanchenglist[0].salePerformance/this.mubiaolist[0].salePerformance*100,"trail-width":6,"stroke-width":6,"trail-color":"#99CBFF","stroke-color":"#3598FF"}},[s("span",[t._v(t._s((isNaN(this.wanchenglist[0].salePerformance/this.mubiaolist[0].salePerformance)?0:this.wanchenglist[0].salePerformance/this.mubiaolist[0].salePerformance*100).toFixed(1))+"%")])])],1)])]),t._v(" "),s("div",{staticClass:"project_nr"},[s("div",{staticClass:"project_nrs"},[t._v("消耗业绩")]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"xh","data-xh":""}},[t._v(t._s(this.mubiaolist[0].consumePerformance)+"元")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"xh1","data-xhh":""}},[t._v(t._s(this.wanchenglist[0].consumePerformance)+"元")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("div",{staticStyle:{width:"50px",height:"50px",position:"relative",top:"0.25rem",left:"30%"}},[s("x-circle",{attrs:{percent:this.wanchenglist[0].consumePerformance/this.mubiaolist[0].consumePerformance>1?100:this.wanchenglist[0].consumePerformance/this.mubiaolist[0].consumePerformance*100,"trail-width":6,"stroke-width":6,"trail-color":"#99CBFF","stroke-color":"#3598FF"}},[s("span",[t._v(t._s((isNaN(this.wanchenglist[0].consumePerformance/this.mubiaolist[0].consumePerformance)?0:this.wanchenglist[0].consumePerformance/this.mubiaolist[0].consumePerformance*100).toFixed(1))+"%")])])],1)])]),t._v(" "),s("div",{staticClass:"project_nr"},[s("div",{staticClass:"project_nrs"},[t._v("新增客户")]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"add","data-add":""}},[t._v(t._s(this.mubiaolist[0].customerNumber)+"人")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"add1","data-addd":""}},[t._v(t._s(this.wanchenglist[0].customerNumber)+"人")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("div",{staticStyle:{width:"50px",height:"50px",position:"relative",top:"0.25rem",left:"30%"}},[s("x-circle",{attrs:{percent:this.wanchenglist[0].customerNumber/this.mubiaolist[0].customerNumber>1?100:this.wanchenglist[0].customerNumber/this.mubiaolist[0].customerNumber*100,"stroke-width":6,"trail-width":6,"trail-color":"#FFD284","stroke-color":"#FFA21E"}},[s("span",[t._v(t._s((isNaN(this.wanchenglist[0].customerNumber/this.mubiaolist[0].customerNumber)?0:this.wanchenglist[0].customerNumber/this.mubiaolist[0].customerNumber*100).toFixed(1))+"%")])])],1)])]),t._v(" "),s("div",{staticClass:"project_nr"},[s("div",{staticClass:"project_nrs"},[t._v("回访人数")]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"make","data-make":""}},[t._v(t._s(this.mubiaolist[0].revisitNumber)+"人")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"make1","data-makee":""}},[t._v(t._s(this.wanchenglist[0].revisitNumber)+"人")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("div",{staticStyle:{width:"50px",height:"50px",position:"relative",top:"0.25rem",left:"30%"}},[s("x-circle",{attrs:{percent:this.wanchenglist[0].revisitNumber/this.mubiaolist[0].revisitNumber>1?100:this.wanchenglist[0].revisitNumber/this.mubiaolist[0].revisitNumber*100,"stroke-width":6,"trail-width":6,"trail-color":"#FFD284","stroke-color":"#FFA21E"}},[s("span",[t._v(t._s((isNaN(this.wanchenglist[0].revisitNumber/this.mubiaolist[0].revisitNumber)?0:this.wanchenglist[0].revisitNumber/this.mubiaolist[0].revisitNumber*100).toFixed(1))+"%")])])],1)])]),t._v(" "),s("div",{staticClass:"project_nr"},[s("div",{staticClass:"project_nrs"},[t._v("成交客户")]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"clinch","data-clinch":""}},[t._v(t._s(this.mubiaolist[0].dealCustomer)+"人")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("span",{attrs:{id:"clinch1","data-clinchh":""}},[t._v(t._s(this.wanchenglist[0].dealCustomer)+"人")])]),t._v(" "),s("div",{staticClass:"project_nrs"},[s("div",{staticStyle:{width:"50px",height:"50px",position:"relative",top:"0.25rem",left:"30%"}},[s("x-circle",{attrs:{percent:this.wanchenglist[0].dealCustomer/this.mubiaolist[0].dealCustomer>1?100:this.wanchenglist[0].dealCustomer/this.mubiaolist[0].dealCustomer*100,"stroke-width":6,"trail-width":6,"trail-color":"#FFD284","stroke-color":"#FFA21E"}},[s("span",[t._v(t._s((isNaN(this.wanchenglist[0].dealCustomer/this.mubiaolist[0].dealCustomer)?0:this.wanchenglist[0].dealCustomer/this.mubiaolist[0].dealCustomer*100).toFixed(1))+"%")])])],1)])])]):t._e(),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:t.tianjiaflag,expression:"tianjiaflag"}],attrs:{href:"javascript:;",id:"foot-bg"},on:{click:function(i){return t.ptianjia()}}}),t._v(" "),s("awesome-picker",{ref:"picker",attrs:{anchor:t.anchor,data:t.pickerdata},on:{confirm:t.handleConfirm}})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"project_titel"},[i("span",{staticStyle:{"padding-left":"18%"}},[this._v("目标")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"project_titel"},[i("span",{staticStyle:{"padding-left":"20%"}},[this._v("当前完成")])])}]};var r=s("VU/8")(e,n,!1,function(t){s("B2n2")},"data-v-55cd8bca",null);i.default=r.exports}});