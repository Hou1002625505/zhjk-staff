webpackJsonp([80],{gA5A:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("UNGY"),a=(s.a,{data:function(){return{cusname:"",custel:"",sex:"",cuslaiyuanList:[],laiyuanshow:!1,laiyuanid:"",checksex1:1,laiyuanname:"",pickerValue1:new Date("1970"),pickerValue:"",shuoming:"",gonghao:"",sDate:"1950-01-01",eDate:"2019-01-01",idnumber:""}},created:function(){this.getcustomer(),this.getgonghao()},methods:{getgonghao:function(){var e=this;this.instance.$post("/rest/wx/customer/getQyUser",{},function(t){console.log(t),e.gonghao=data.rows[0].userName})},getcustomer:function(){var e=this;this.instance.$post("/rest/wx/dictionnary/getdictionnarylist",{typeCode:"gx_customer_source"},function(t){console.log(t),t.rows.forEach(function(t){e.cuslaiyuanList.push(t)})})},selecdate:function(){this.$refs.picker.open()},tianjia_sure:function(){var e=this;0<this.idnumber.length&&this.idnumber.length<18?this.$vux.toast.text("证件号码错误","center"):""!=this.cusname.trim()?""!=this.custel.trim()?11==this.custel.length&&/^1[345678]\d{9}$/.test(this.custel)?""!=this.laiyuanname?this.instance.$post("/rest/wx/customer/addgxcustomer",{name:this.cusname,mobile:this.custel,sex:this.checksex1,agencyNo:this.gonghao,birthday:this.pickerValue,source:this.laiyuanname,adress:this.shuoming,identity:this.idnumber},function(t){console.log(t),t.status?(e.$vux.toast.text("添加成功","center"),e.$router.push({name:"customer"})):e.$vux.toast.text(t.message,"center")}):this.$vux.toast.text("请选择客户来源","center"):this.$vux.toast.text("输入手机号码不正确","center"):this.$vux.toast.text("请输入客户手机号","center"):this.$vux.toast.text("请输入客户姓名","center")},handleConfirm:function(){console.log(this.pickerValue1),console.log(this.config.formatDate(this.pickerValue1)),this.pickerValue=this.config.formatDate(this.pickerValue1)},checksex:function(e){this.checksex1=e,console.log(e)},laiyuanshow1:function(){this.laiyuanshow=!0},selectlaiyuan:function(e,t){this.laiyuanid=e,this.laiyuanname=t,this.laiyuanshow=!1}},watch:{idnumber:function(){this.idnumber=this.idnumber.replace(/[^\w\\/]/gi,"")}},updated:function(){$(".painput5").css({position:"relative",right:"18px"}),$(".painput6").css({position:"relative",right:"18px"})},components:{Datetime:s.a}}),l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"addG"},[i("div",{staticClass:"weui-cells weui-cells_form"},[i("div",{staticClass:"weui-cell "},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.cusname,expression:"cusname"}],staticClass:"weui-input",attrs:{id:"name",type:"text",maxlength:"50",placeholder:"请输入客户姓名"},domProps:{value:e.cusname},on:{input:function(t){t.target.composing||(e.cusname=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.custel,expression:"custel"}],staticClass:"weui-input",attrs:{id:"phone",type:"number",oninput:"if(value.length>15)value=value.slice(0,15)",placeholder:"请输入客户手机号码"},domProps:{value:e.custel},on:{input:function(t){t.target.composing||(e.custel=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell",staticStyle:{padding:"13.5px 15px"}},[e._m(2),e._v(" "),i("div",{staticClass:"weui-cell__hd",staticStyle:{position:"absolute",right:"15px",color:"#919191","font-family":"'微软雅黑'"}},[i("div",{staticClass:"weui-cells weui-cells_checkbox sex",staticStyle:{"margin-top":"0",float:"left"}},[i("label",{staticClass:"weui-cell weui-check__label",staticStyle:{padding:"0","margin-right":"10px"}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{staticClass:"weui-check",attrs:{type:"radio",name:"checkbox1",maxlength:"500",checked:"checked",value:"1"},on:{click:function(t){return e.checksex(1)}}}),e._v(" "),i("i",{staticClass:"weui-icon-checked"})]),e._v(" "),e._m(3)])]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_checkbox",staticStyle:{"margin-top":"0"}},[i("label",{staticClass:"weui-cell weui-check__label",staticStyle:{padding:"0"}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{staticClass:"weui-check",attrs:{type:"radio",name:"checkbox1",value:"2"},on:{click:function(t){return e.checksex(2)}}}),e._v(" "),i("i",{staticClass:"weui-icon-checked"})]),e._v(" "),e._m(4)])])])]),e._v(" "),i("div",{staticClass:"weui-cell",attrs:{id:"showDatePicker"}},[e._m(5),e._v(" "),i("div",{staticClass:"weui-cell__bd arrow"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.pickerValue,expression:"pickerValue"}],staticClass:"weui-input painput5",attrs:{id:"dateBirth",type:"text",placeholder:"请选择出生日期",onfocus:"this.blur()",readonly:"readonly"},domProps:{value:e.pickerValue},on:{input:function(t){t.target.composing||(e.pickerValue=t.target.value)}}}),i("datetime",{staticClass:"fang",attrs:{"start-date":e.sDate,"end-date":e.eDate},model:{value:e.pickerValue,callback:function(t){e.pickerValue=t},expression:"pickerValue"}})],1)]),e._v(" "),i("div",{staticClass:"weui-cell customers",attrs:{id:"selectCus"}},[e._m(6),e._v(" "),i("div",{staticClass:"weui-cell__bd arrow",on:{click:function(t){return e.laiyuanshow1()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.laiyuanname,expression:"laiyuanname"}],staticClass:"weui-input painput6",attrs:{type:"text",id:"customer_source",readonly:"readonly",onfocus:"this.blur()",placeholder:"请选择客户来源"},domProps:{value:e.laiyuanname},on:{input:function(t){t.target.composing||(e.laiyuanname=t.target.value)}}})])]),e._v(" "),e._m(7),e._v(" "),i("div",{staticClass:"weui-cell line"},[e._m(8),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.idnumber,expression:"idnumber"}],staticClass:"weui-input",attrs:{id:"phone",type:"text",maxlength:"20",placeholder:"请填写证件号码"},domProps:{value:e.idnumber},on:{keyup:e.idnumber,input:function(t){t.target.composing||(e.idnumber=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"explain"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.shuoming,expression:"shuoming"}],staticClass:"textEx",attrs:{rows:"8",cols:"50",placeholder:"其他说明"},domProps:{value:e.shuoming},on:{input:function(t){t.target.composing||(e.shuoming=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"addCustomer_finish",on:{click:function(t){return e.tianjia_sure()}}},[i("span",[e._v("添加客户")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.laiyuanshow,expression:"laiyuanshow"}],staticClass:"shangke_type"},[i("div",{staticClass:"shangke_type_con"},[i("div",{staticClass:"item_box"},e._l(e.cuslaiyuanList,function(t,s){return i("div",{key:s,staticClass:"item"},[i("span",{class:{active:e.laiyuanid===t.dictionaryId},on:{click:function(i){return e.selectlaiyuan(t.dictionaryId,t.name)}}},[e._v(e._s(t.name))])])}),0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label w1"},[this._v("客户姓名")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label w1"},[this._v("手机号码")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label w1"},[this._v("性"),t("span",{staticClass:"zk"},[this._v("别")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__bd"},[t("p",[this._v("男")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__bd"},[t("p",[this._v("女")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("出生日期")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label w1"},[this._v("客户来源")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell"},[t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("证件类型")])]),this._v(" "),t("div",{staticClass:"weui-cell__bd"},[t("input",{staticClass:"weui-input",attrs:{id:"phone",type:"number",placeholder:"身份证",disabled:"disabled",onfocus:"this.blur()"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("证件号码")])])}]};var c=i("VU/8")(a,l,!1,function(e){i("pKF8")},"data-v-23d65c77",null);t.default=c.exports},pKF8:function(e,t){}});