webpackJsonp([52],{HOUc:function(t,e){},yMiT:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{index:0,topStatus:"",loading:0,show:!1,pageVal:1,pageSize:10,pageCount:1,isLoading:!1,isMoreLoading:!0,noMore:!1,name:this.$route.query.name,head:this.$route.query.head,customerId:this.$route.query.customerId,sex:this.$route.query.sex,mobile:this.$route.query.mobile,getcusinfoList:[],nocustomer:!1}},created:function(){this.getcusinfo()},methods:{getcusinfo:function(){var t=this;this.instance.$post("/rest/wx/diagnosis/getDiagnosislListPage",{page:this.pageVal,rows:this.pageSize,param:{id:this.customerId}},function(e){console.log(e),1==t.loading&&(t.getcusinfoList=[]),e.rows.forEach(function(e){t.getcusinfoList.push(e)}),1==t.pageVal&&(t.$refs.loadmore.onTopLoaded(),0==e.rows.length?(t.show=!0,t.nocustomer=!0):(t.show=!1,t.nocustomer=!1)),t.pageCount=Math.ceil(e.total/t.pageSize),t.isMoreLoading=!1,t.isLoading=!1,t.loading=0})},pandetail:function(t,e,s,i){console.log(i),0==i?this.$router.push({name:"panzhenbian",query:{id:t,itemName:e,itemid:s}}):this.$router.push({name:"panzhendetail",query:{id:t,itemName:e,itemid:s}})},addcus:function(){this.$router.push({name:"panzhenbiao",query:{name:this.name,head:this.head,customerId:this.customerId,sex:this.sex,mobile:this.mobile}})},filDate:function(t){return t.split(" ")[0]},handleTopChange:function(t){this.topStatus=t},loadTop:function(){var t=this;setTimeout(function(){t.pageVal=1,t.loading=1,t.getcusinfo()},300)},loadMore:function(){if(this.pageVal+=1,this.isMoreLoading=!0,this.isLoading=!0,this.pageVal>this.pageCount)return this.isMoreLoading=!0,this.isLoading=!1,this.noMore=!0,0==this.getcusinfoList.length&&(this.noMore=!1),!1;this.getcusinfo()}},components:{}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"max-distance":150},on:{"top-status-change":t.handleTopChange}},[s("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"pull"===t.topStatus,expression:"topStatus === 'pull'"}],class:{rotate:"drop"===t.topStatus}},[t._v("下拉刷新")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[s("mt-spinner",{staticClass:"loading-more",attrs:{type:"triple-bounce",size:20}})],1),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"drop"===t.topStatus,expression:"topStatus === 'drop'"}]},[t._v("松开刷新")])]),t._v(" "),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"datacontent",attrs:{"infinite-scroll-disabled":"isMoreLoading","infinite-scroll-immediate-check":!0,"infinite-scroll-distance":"10"}},[s("div",{staticClass:"item_wrap"},[s("div",{staticClass:"item_list_wrap"},t._l(t.getcusinfoList,function(e,i){return s("div",{key:i,staticClass:"item_list",on:{click:function(s){return t.pandetail(e.diagnosisId,e.dictionaryName,e.cusItemId,i)}}},[s("div",{staticClass:"itemType"},[t._v("项目类型:"+t._s(e.dictionaryName)),s("span",{directives:[{name:"show",rawName:"v-show",value:0==i,expression:"index==0"}],staticClass:"compile"},[t._v("编辑")])]),t._v(" "),s("div",{staticClass:"itemDetailed"},[s("span",[t._v("客户姓名")]),t._v(" "),s("span",[t._v(t._s(e.customerName))])]),t._v(" "),s("div",{staticClass:"itemDetailed"},[s("span",[t._v("操作人")]),t._v(" "),s("span",[t._v(t._s(e.subhealthWrite))])]),t._v(" "),s("div",{staticClass:"itemDetailed"},[s("span",[t._v("顾问")]),t._v(" "),s("span",[t._v(t._s(e.customerPlanWrite))])]),t._v(" "),s("div",{staticClass:"itemDetailed"},[s("span",[t._v("填表时间")]),t._v(" "),s("span",[t._v(t._s(t.filDate(e.writeTime)))])])])}),0)])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.nocustomer,expression:"nocustomer"}],staticClass:"zanwujilu"},[s("span",[t._v("暂无数据可点击下方按钮添加")])])]),t._v(" "),s("div",{staticClass:"add_btn",on:{click:function(e){return t.addcus()}}})],1)},staticRenderFns:[]};var o=s("VU/8")(i,a,!1,function(t){s("HOUc")},"data-v-6c1a598e",null);e.default=o.exports}});